<!DOCTYPE html>
<html lang="pt-br" ng-app="fornecedores">

<head>
    <meta charset="UTF-8">
    <title>Fornecedores</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <link rel="stylesheet" href="./assets/css/style.css">
    <script src="./lib/angular-1.8.2/angular.js"></script>
</head>

<body ng-controller="fornecedorCtrl">
    <div class="jumbotron">
        <h3 class="adjust-header" style="font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif">{{app}}</h3>
        <table ng-show="contatos.length" class="table">
            <tr>
                <th></th>
                <th>Nome:</th>
                <th>Email:</th>
                <th>Cep:</th>
                <th>Rua:</th>
                <th>Bairro:</th>
                <th>Cidade:</th>
                <th>UF:</th>
                <th>Numero:</th>
                <th>CNPJ:</th>
            </tr>

            <tr ng-class="{selecionado: contato.selecionado}" ng-repeat="contato in contatos">
                <td><input type="checkbox" ng-model="contato.selecionado"></td>
                <td>{{contato.nome}}</td>
                <td>{{contato.email}}</td>
                <td>{{contato.cep}}</td>
                <td>{{contato.rua}}</td>
                <td>{{contato.bairro}}</td>
                <td>{{contato.cidade}}</td>
                <td>{{contato.uf | uppercase}}</td>
                <td>{{contato.numero}}</td>
                <td>{{contato.cnpj}}</td>
            </tr>
        </table>
        <hr>
        <form name="contatoForm">
            <input class="form-control" type="text" ng-model="contato.nome" name="nome" placeholder="Nome"
                ng-required="true" ng-minlength="3" maxlength="100">
            <input class="form-control" type="email" ng-model="contato.email" name="email" placeholder="Email"
                ng-required="true">
            <input class="form-control" type="text" ng-model="contato.cep" name="cep" placeholder="CEP"
                ng-required="true" ng-pattern="/^[0-9]{5}[0-9]{3}$/" ng-minlength="8" maxlength="8">
            <input class="form-control" type="text" ng-model="contato.rua" name="rua" placeholder="Rua"
                ng-required="true">
            <input class="form-control" type="text" ng-model="contato.bairro" name="bairro" placeholder="Bairro"
                ng-required="true">
            <input class="form-control" type="text" ng-model="contato.cidade" name="cidade" placeholder="Cidade"
                ng-required="true">
            <input class="form-control" type="text" ng-model="contato.uf" name="uf" placeholder="UF" ng-required="true"
                ng-minlength="2" maxlength="2">
            <input class="form-control" type="text" ng-model="contato.numero" name="numero" placeholder="Numero"
                ng-required="true" ng-minlength="2" maxlength="6">
            <input class="form-control" type="text" ng-model="contato.cnpj" name="cnpj" placeholder="CNPJ"
                ng-required="true" ng-minlength="14" maxlength="14">
        </form>

        <div ng-show="contatoForm.nome.$error.required && contatoForm.nome.$dirty" class="alert alert-danger">
            Por favor, preencha o campo nome!
        </div>
        <div ng-show="contatoForm.nome.$error.minlength || contatoForm.nome.$error.maxlength"
            class="alert alert-danger">
            O campo nome deve ter entre 3 e 100 caracteres.
        </div>
        <div ng-show="contatoForm.cep.$error.required && contatoForm.cep.$dirty" class="alert alert-danger">
            Por favor, preencha o campo CEP!
        </div>
        <div ng-show="contatoForm.cep.$error.pattern" class="alert alert-danger">
            O campo CEP deve ter 8 caracteres!!
        </div>

        <button style="margin-bottom: 10px;" class="btn btn-primary btn-block" ng-click="adicionarContato(contato)"
            ng-disabled="contatoForm.$invalid">Adicionar Contato</button>
        <button style="margin-bottom: 10px;" class="btn btn-danger btn-block" ng-click="apagarContatos(contatos)"
            ng-if="isContatoSelecionado(contatos)">Apagar Contatos</button>
    </div>

    <div ng-include="'footer.html'"></div>

    <script src="./assets/script.js"></script>
</body>

</html>